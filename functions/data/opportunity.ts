import { model, Schema } from 'mongoose';
import { Opportunity } from './salesforce.models';

export interface AuditInfo {
  createdOn: Date;
  updatedOn: Date;
}

export type CosmosOpportunity = Opportunity & AuditInfo;

export const OpportunityModel = model<CosmosOpportunity>(
  'Opportunity',
  new Schema<CosmosOpportunity>({
    createdOn: { type: Date, required: true },
    updatedOn: { type: Date, required: true },
    attributes: {
      type: { type: String, required: true },
      url: { type: String, required: true },
    },
    Id: { type: String, required: true },
    IsDeleted: { type: Boolean, required: true },
    AccountId: { type: String, required: true },
    RecordTypeId: { type: Object, required: false },
    Name: { type: String, required: true },
    Description: { type: Object, required: false },
    StageName: { type: String, required: true },
    Amount: { type: Object, required: false },
    Probability: { type: Number, required: true },
    CloseDate: { type: String, required: true },
    Type: { type: String, required: true },
    NextStep: { type: Object, required: false },
    LeadSource: { type: Object, required: false },
    IsClosed: { type: Boolean, required: true },
    IsWon: { type: Boolean, required: true },
    ForecastCategory: { type: String, required: true },
    ForecastCategoryName: { type: String, required: true },
    CurrencyIsoCode: { type: String, required: true },
    CampaignId: { type: Object, required: false },
    HasOpportunityLineItem: { type: Boolean, required: true },
    Pricebook2Id: { type: String, required: true },
    OwnerId: { type: String, required: true },
    CreatedDate: { type: String, required: true },
    CreatedById: { type: String, required: true },
    LastModifiedDate: { type: String, required: true },
    LastModifiedById: { type: String, required: true },
    SystemModstamp: { type: String, required: true },
    LastActivityDate: { type: Object, required: false },
    PushCount: { type: Number, required: true },
    LastStageChangeDate: { type: Object, required: false },
    FiscalQuarter: { type: Number, required: true },
    FiscalYear: { type: Number, required: true },
    Fiscal: { type: String, required: true },
    ContactId: { type: Object, required: false },
    LastViewedDate: { type: String, required: true },
    LastReferencedDate: { type: String, required: true },
    SyncedQuoteId: { type: Object, required: false },
    ContractId: { type: Object, required: false },
    HasOpenActivity: { type: Boolean, required: true },
    HasOverdueTask: { type: Boolean, required: true },
    LastAmountChangedHistoryId: { type: Object, required: false },
    LastCloseDateChangedHistoryId: { type: Object, required: false },
    Budget_Confirmed__c: { type: Boolean, required: true },
    Discovery_Completed__c: { type: Boolean, required: true },
    ROI_Analysis_Completed__c: { type: Boolean, required: true },
    Add_Account_Team_to_Opportunity__c: { type: Boolean, required: true },
    Loss_Reason__c: { type: Object, required: false },
    Bill_To_Account__c: { type: Object, required: false },
    Budget_Alignment__c: { type: Object, required: false },
    Budget__c: { type: Object, required: false },
    COU__c: { type: String, required: true },
    Campaign_Custom__c: { type: Object, required: false },
    Competitive_Situation__c: { type: Object, required: false },
    Competitor__c: { type: Object, required: false },
    Credit_Limit__c: { type: Number, required: true },
    Credit_Profile__c: { type: Object, required: false },
    Credit_Status__c: { type: String, required: true },
    Customer_PO_Number__c: { type: Object, required: false },
    Demand_Generator__c: { type: Object, required: false },
    Employee_Referral__c: { type: Object, required: false },
    External_Id__c: { type: Object, required: false },
    FieldPlus_Contact__c: { type: Object, required: false },
    Field_Services_Category__c: { type: Object, required: false },
    Forecast_Category__c: { type: String, required: true },
    Invoice_Delivery_Method__c: { type: Object, required: false },
    Legacy_App__c: { type: Object, required: false },
    Legal_Entity__c: { type: Object, required: false },
    Likelihood_to_Close__c: { type: Object, required: false },
    MSA_Agreement_Flag__c: { type: Boolean, required: true },
    Oracle_Order_Number__c: { type: Object, required: false },
    Oracle_Quote_Number__c: { type: Object, required: false },
    Order_Amount__c: { type: Object, required: false },
    Order_Booked_Date__c: { type: Object, required: false },
    Order_Status__c: { type: Object, required: false },
    PO_Document_Link__c: { type: Object, required: false },
    Probability_Forecast__c: { type: Number, required: true },
    Quote_Status__c: { type: Object, required: false },
    Renewal_Status__c: { type: Object, required: false },
    Sub_COU__c: { type: String, required: true },
    Timeline__c: { type: Object, required: false },
    Topic__c: { type: Object, required: false },
    Value_Proposition__c: { type: Object, required: false },
    Weighted_Amount__c: { type: Number, required: true },
    Win_Strategy__c: { type: Object, required: false },
    Agreement_Number__c: { type: Object, required: false },
    Contract_Template__c: { type: Object, required: false },
    Interest__c: { type: Object, required: false },
    Legacy_Owner__c: { type: Object, required: false },
    Legacy_Referral__c: { type: Object, required: false },
    Opportunity_Number__c: { type: String, required: true },
    Sno__c: { type: String, required: true },
    Opportunity_Age__c: { type: Number, required: true },
    cafsl__Data_Set_Exclude_List__c: { type: Object, required: false },
    Alternate_Campaign__c: { type: Object, required: false },
    Auto_Renewal__c: { type: Boolean, required: true },
    Billable_Expenses__c: { type: Boolean, required: true },
    Contract_End_Date__c: { type: Object, required: false },
    Contract_Start_Date__c: { type: Object, required: false },
    Contract_Term__c: { type: Object, required: false },
    Converted_From_Lead__c: { type: Boolean, required: true },
    Created_by_Field_Services__c: { type: Boolean, required: true },
    Impartiality_Error_Message__c: { type: Object, required: false },
    Legacy_Employee__c: { type: Object, required: false },
    Legacy_Opportunity_Owner_Name__c: { type: Object, required: false },
    Legal_Entity_Active_for_CPQ__c: { type: Boolean, required: true },
    Oracle_EBS_Quote_Number__c: { type: Object, required: false },
    Oracle_EBS_Quote_Status__c: { type: Object, required: false },
    Originating_Opportunity__c: { type: Object, required: false },
    SOW_Required__c: { type: Object, required: false },
    Count_of_Renewable_Products__c: { type: Number, required: true },
    Count_of_Trackable_Assets__c: { type: Number, required: true },
    Amount_Credit_Check__c: { type: Object, required: false },
    Account_Owner_is_Active__c: { type: Boolean, required: true },
  })
);
